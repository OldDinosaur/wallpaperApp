"use strict";const e=require("../../common/vendor.js"),t=require("../../utils/request.js");if(!Array){(e.resolveComponent("u-search")+e.resolveComponent("u-image")+e.resolveComponent("u-card")+e.resolveComponent("u-skeleton")+e.resolveComponent("u-mask")+e.resolveComponent("u-tabbar"))()}Math||((()=>"../../uni_modules/vk-uview-ui/components/u-search/u-search.js")+u+(()=>"../../uni_modules/vk-uview-ui/components/u-image/u-image.js")+(()=>"../../uni_modules/vk-uview-ui/components/u-card/u-card.js")+(()=>"../../uni_modules/vk-uview-ui/components/u-skeleton/u-skeleton.js")+(()=>"../../uni_modules/vk-uview-ui/components/u-mask/u-mask.js")+(()=>"../../uni_modules/vk-uview-ui/components/u-tabbar/u-tabbar.js"))();const u=()=>"./swiper1.js",a={__name:"index",setup(u){let a=e.ref(!1),s=e.ref("爆照的老恐龙"),o=e.ref();e.onPullDownRefresh((()=>{o.value.getData(),c(),setTimeout((function(){e.index.stopPullDownRefresh()}),1e3)}));let l=e.ref({}),i=e.ref([]),n=e.ref([]),r=e.ref([]);const c=()=>{a.value=!0,t.request.request("https://api.waifu.im/tags").then((e=>{l.value=e,i.value=e.nsfw,n.value=e.versatile,r.value=[];for(let u of n.value)t.request.request("https://api.waifu.im/search","get",{included_tags:u,limit:6}).then((e=>{r.value.push({tab:u,list:e.images})}));a.value=!1}))};e.onLoad((()=>{e.nextTick$1((()=>{o.value&&o.value.getData()})),c()}));let m=e.ref(!1),f=e.ref();const h=e=>{if(console.log(s.value),"老恐龙是帅哥"==s.value){r.value=[];for(let e of i.value)t.request.request("https://api.waifu.im/search","get",{included_tags:e,limit:6}).then((t=>{r.value.push({tab:e,list:t.images})}))}else{r.value=[];for(let e of n.value)t.request.request("https://api.waifu.im/search","get",{included_tags:e,limit:6}).then((t=>{r.value.push({tab:e,list:t.images})}))}};let p=e.ref([{iconPath:"home",selectedIconPath:"home-fill",text:"首页",customIcon:!1,pagePath:"/pages/home/index"},{iconPath:"photo",selectedIconPath:"photo-fill",text:"分类",customIcon:!1,pagePath:"/pages/sort/index"},{iconPath:"account",selectedIconPath:"account-fill",text:"我的",customIcon:!1,pagePath:"/pages/my/index"}]),v=e.ref(0);return(t,u)=>({a:e.o(h),b:e.o((t=>e.isRef(s)?s.value=t:s=t)),c:e.p({margin:"10rpx","show-action":!1,placeholder:"爆照的老恐龙",clearabled:!0,modelValue:e.unref(s)}),d:e.sr(o,"53cec437-1",{k:"swiper1Ref"}),e:e.f(e.unref(r),((t,u,a)=>({a:e.f(t.list,((t,u,s)=>({a:e.o((e=>(e=>{m.value=!0,f.value=e})(t.url))),b:"53cec437-3-"+a+"-"+s+",53cec437-2-"+a,c:e.p({width:"100%",height:"300rpx",src:t.url})}))),b:t.tab,c:"53cec437-2-"+a,d:e.p({title:t.tab,"show-foot":!1,"sub-title":"查看更多"})}))),f:e.p({loading:e.unref(a),animation:!0,bgColor:"#FFF"}),g:e.p({width:"100%",height:"100vh",mode:"aspectFit",src:e.unref(f)}),h:e.o((t=>e.isRef(m)?m.value=!1:m=!1)),i:e.o((t=>e.isRef(m)?m.value=!1:m=!1)),j:e.p({show:e.unref(m)}),k:e.o((t=>e.isRef(v)?v.value=t:v=t)),l:e.p({list:e.unref(p),modelValue:e.unref(v)})})}};wx.createPage(a);
